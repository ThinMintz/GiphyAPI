<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	<title></title>
</head>
<body>
<div class = "container">
 <h1>Dog Gifs</h1>

    <!-- Buttons will be added here -->
    <div id="showButtons"></div>

    <form id="dog-form">
      <label for="dogInput">Add your favorite dog breed!</label>
      <input type="text" id="dogInput"><br>

      <!-- Button triggers new movie to be added -->
      <input id="addDog" type="submit" value="Add your favorite dog breed!">
    </form>

<!-- Gifs should appear here -->
    <div class= "dogGifs"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
	//create an array named topics
	var topics = ["chihuahua", "pug", "boxer",]
	
    // Function for displaying dog gifs
    function renderButtons() {

//Deleting the movies prior to adding new movies
//is this needed? Answer, YES! otherwise it will keep adding all the elements of the array not just one the one you added
    $("#showButtons").empty();

	//create a way to add topics to the array, use a loop to append each string in the array		
		for (var i = 0; i < topics.length; i++) {
		console.log(topics[i]);

		//Make buttons for each array item, 
		var a = $("<button>");
		//add class of dogBreed for each button
		a.addClass("dogBreed");
		//adding a data attribute, still unsure about this? my understanding is that it helps with the "this" function stuff
		a.attr("dog-name");
    	//adding text to the buttons, the bracketed i keeps the whole array from appearing in the buttons
    	a.text(topics[i]);
    	//adding buttons to the div
    	$("#showButtons").append(a);
    	console.log(a);
    }

    }
//trying to add dog breed to attribute "dog-name"


	//this creates a function handles which will search for 10 gifs when button is click
	function showDogGifs() {
		var dogsGif = $(this).attr("dog-name");

		$.get("https://api.giphy.com/v1/gifs/search", {q: dogsGif, api_key: "dc6zaTOxFJmzC", limit: 10})
		//will run when the data is done being retrieved
		.done(function(response){
			//storing an array of results in the results variable
			var results = response.data;
			console.log(results);
			//looping over every result item (NOT SURE IF THIS IS NEEDED)
			for (var i = 0; i < results.length; i++) {
				var gifDiv = $("<div class='dogBreed'>");

				var rating = results[i].rating;

				var p = $("<p>").text("Rating: " + rating);

				var dogImage = $("<img>");
				dogImage.attr("src", results[i].images.fixed_height.url);

				gifDiv.prepend(p);
				gifDiv.prepend(dogImage);

				$("#dogGifs").prepend(gifDiv);

				
			}
		});

	};	
//create buttons for the dog breeds that are added to the dogbreed field in the form
	$("#addDog").on("click", function(event) {
		//user can hit enter, not just click the actual button
		event.preventDefault();
	//when a dog is added to the input field it will ignore white space
	var dogs = $("#dogInput").val().trim();


//push the input entered into the topics array
	topics.push(dogs);

//entered buttons should show up on the screen
	renderButtons();
	});

// Adding a click event listener to all elements with a class of "movie" NOT WORKING
      $(document).on("click", ".dogBreed", showDogGifs);
//should show the initial buttons
	renderButtons();





</script>
</div>
</body>
</html>